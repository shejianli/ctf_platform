import{_ as fe,e as A,k as J,d as f,l as ge,D as ke,r as v,o as i,g as m,h as t,c as g,w as l,n as G,a,j as c,b as d,t as n,F as M,m as S,z as ye,p as be,L as $,x as K,q as x,s as Q,v as he,I as Ce,A as Te}from"./index-26cb0da1.js";const Ve={class:"awd-container"},we={class:"main-content"},Me={class:"main-panel"},Se={class:"game-status"},xe={class:"status-header"},Ne={class:"status-controls"},De={class:"status-grid"},Ie={class:"status-item"},Ue={class:"status-item"},ze={class:"status-value"},Ae={class:"status-item"},Ge={class:"status-value"},$e={class:"status-item"},Fe={class:"status-value"},Be={class:"team-ranking"},Oe={class:"section-header"},Re={class:"rank-cell"},je={key:0,class:"rank-medal"},We={key:1,class:"rank-number"},qe={class:"team-info"},Le={class:"team-name"},Pe={class:"score-value"},Ee={class:"attack-count"},He={class:"defense-count"},Je={class:"attack-records"},Ke={class:"section-header"},Qe={class:"records-list"},Xe={class:"record-header"},Ye={class:"record-type"},Ze={class:"record-time"},et={class:"record-content"},tt={class:"record-teams"},st={class:"attacker"},at={class:"target"},lt={class:"record-details"},nt={class:"challenge-name"},ot={class:"record-score"},it={key:0},dt={key:1},ut={key:2,class:"no-score"},rt={class:"control-panel"},ct={class:"panel-section"},mt={key:0,class:"my-team"},vt={class:"team-header"},_t={class:"team-info"},pt={class:"team-name"},ft={class:"team-score"},gt={class:"team-stats"},kt={class:"stat-item"},yt={class:"stat-value success"},bt={class:"stat-item"},ht={class:"stat-value success"},Ct={class:"stat-item"},Tt={class:"stat-value danger"},Vt={key:1,class:"no-team"},wt={class:"panel-section"},Mt={class:"quick-actions"},St={__name:"index",setup(xt){const r=A({status:"waiting",elapsedTime:0,remainingTime:7200,totalTeams:8}),h=J(()=>r.status==="running"),N=f(!1),D=f(!1),F=f([{id:1,rank:1,teamName:"安全卫士",avatar:"",score:2850,attackCount:12,defenseCount:8,status:"online",isMyTeam:!1},{id:2,rank:2,teamName:"黑客联盟",avatar:"",score:2720,attackCount:15,defenseCount:6,status:"online",isMyTeam:!1},{id:3,rank:3,teamName:"代码猎人",avatar:"",score:2580,attackCount:10,defenseCount:9,status:"online",isMyTeam:!0},{id:4,rank:4,teamName:"渗透专家",avatar:"",score:2450,attackCount:11,defenseCount:7,status:"offline",isMyTeam:!1},{id:5,rank:5,teamName:"漏洞挖掘者",avatar:"",score:2320,attackCount:9,defenseCount:8,status:"online",isMyTeam:!1}]),k=f({id:3,teamName:"代码猎人",avatar:"",score:2580,attackSuccess:8,defenseSuccess:6,attackedCount:3}),X=f([{id:1,type:"attack",attacker:"安全卫士",target:"黑客联盟",challengeName:"Web漏洞利用",result:"success",score:150,timestamp:Date.now()-3e4},{id:2,type:"defense",attacker:"渗透专家",target:"代码猎人",challengeName:"系统加固",result:"success",score:100,timestamp:Date.now()-6e4},{id:3,type:"attack",attacker:"黑客联盟",target:"漏洞挖掘者",challengeName:"二进制漏洞",result:"failed",score:0,timestamp:Date.now()-9e4}]),B=J(()=>F.value.filter(o=>!o.isMyTeam&&o.status==="online")),O=f([{id:1,name:"Web漏洞利用",points:150},{id:2,name:"二进制漏洞",points:200},{id:3,name:"系统提权",points:250},{id:4,name:"网络渗透",points:180}]),T=f(!1),V=f(!1),_=A({targetTeam:null,targetChallenge:null,payload:"",note:""}),p=A({targetChallenge:null,defenseMeasures:"",note:""});let w=null;const Y=async()=>{N.value=!0;try{await new Promise(o=>setTimeout(o,1e3)),r.status="running",ee()}finally{N.value=!1}},Z=async()=>{D.value=!0;try{await new Promise(o=>setTimeout(o,1e3)),r.status="finished",I()}finally{D.value=!1}},ee=()=>{w=setInterval(()=>{r.elapsedTime<r.remainingTime?(r.elapsedTime+=1,r.remainingTime-=1):(r.status="finished",I())},1e3)},I=()=>{w&&(clearInterval(w),w=null)},te=()=>{console.log("刷新排名")},se=()=>{console.log("刷新攻击记录")},ae=()=>{console.log("创建队伍")},le=()=>{T.value=!0},R=()=>{T.value=!1,Object.assign(_,{targetTeam:null,targetChallenge:null,payload:"",note:""})},ne=()=>{console.log("提交攻击:",_),R()},oe=()=>{V.value=!0},j=()=>{V.value=!1,Object.assign(p,{targetChallenge:null,defenseMeasures:"",note:""})},ie=()=>{console.log("提交防守:",p),j()},de=()=>{console.log("系统检查")},ue=()=>{console.log("系统备份")},re=o=>({waiting:"orange",running:"green",paused:"blue",finished:"gray"})[o]||"gray",ce=o=>({waiting:"等待开始",running:"进行中",paused:"暂停",finished:"已结束"})[o]||"未知",me=o=>({online:"green",offline:"gray",busy:"orange"})[o]||"gray",ve=o=>({online:"在线",offline:"离线",busy:"忙碌"})[o]||"未知",W=o=>{const e=Math.floor(o/3600),u=Math.floor(o%3600/60),C=o%60;return`${e.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},_e=o=>{const u=Date.now()-o;return u<6e4?"刚刚":u<36e5?`${Math.floor(u/6e4)}分钟前`:u<864e5?`${Math.floor(u/36e5)}小时前`:`${Math.floor(u/864e5)}天前`};return ge(()=>{}),ke(()=>{I()}),(o,e)=>{const u=v("a-button"),C=v("a-tag"),b=v("a-table-column"),q=v("a-avatar"),pe=v("a-table"),U=v("a-option"),z=v("a-select"),y=v("a-form-item"),L=v("a-textarea"),P=v("a-input"),E=v("a-form"),H=v("a-modal");return i(),m("div",Ve,[e[33]||(e[33]=t("div",{class:"header"},[t("h1",null,"⚔️ AWD攻防演练"),t("p",null,"实时攻防对抗，提升团队协作与安全防护能力")],-1)),t("div",we,[t("div",Me,[t("div",Se,[t("div",xe,[e[11]||(e[11]=t("h3",null,"🎯 比赛状态",-1)),t("div",Ne,[h.value?(i(),g(u,{key:1,type:"danger",onClick:Z,loading:D.value},{default:l(()=>[a(c($)),e[10]||(e[10]=d(" 结束比赛 ",-1))]),_:1,__:[10]},8,["loading"])):(i(),g(u,{key:0,type:"primary",onClick:Y,loading:N.value},{default:l(()=>[a(c(be)),e[9]||(e[9]=d(" 开始比赛 ",-1))]),_:1,__:[9]},8,["loading"]))])]),t("div",De,[t("div",Ie,[e[12]||(e[12]=t("div",{class:"status-label"},"比赛状态",-1)),t("div",{class:G(["status-value",r.status])},[a(C,{color:re(r.status)},{default:l(()=>[d(n(ce(r.status)),1)]),_:1},8,["color"])],2)]),t("div",Ue,[e[13]||(e[13]=t("div",{class:"status-label"},"比赛时长",-1)),t("div",ze,[a(c(K)),d(" "+n(W(r.elapsedTime)),1)])]),t("div",Ae,[e[14]||(e[14]=t("div",{class:"status-label"},"剩余时间",-1)),t("div",Ge,[a(c(K)),d(" "+n(W(r.remainingTime)),1)])]),t("div",$e,[e[15]||(e[15]=t("div",{class:"status-label"},"参与队伍",-1)),t("div",Fe,[a(c(x)),d(" "+n(r.totalTeams)+"支 ",1)])])])]),t("div",Be,[t("div",Oe,[e[17]||(e[17]=t("h3",null,"🏆 实时排名",-1)),a(u,{size:"small",onClick:te},{default:l(()=>[a(c(Q)),e[16]||(e[16]=d(" 刷新 ",-1))]),_:1,__:[16]})]),a(pe,{data:F.value,pagination:!1,scroll:{y:400},size:"small"},{columns:l(()=>[a(b,{title:"排名","data-index":"rank",width:"60"},{cell:l(({record:s})=>[t("div",Re,[s.rank<=3?(i(),m("span",je,n(s.rank===1?"🥇":s.rank===2?"🥈":"🥉"),1)):(i(),m("span",We,n(s.rank),1))])]),_:1}),a(b,{title:"队伍名称","data-index":"teamName"},{cell:l(({record:s})=>[t("div",qe,[a(q,{size:24,src:s.avatar},null,8,["src"]),t("span",Le,n(s.teamName),1),s.isMyTeam?(i(),g(C,{key:0,size:"small",color:"blue"},{default:l(()=>e[18]||(e[18]=[d("我的队伍",-1)])),_:1,__:[18]})):he("",!0)])]),_:1}),a(b,{title:"得分","data-index":"score",width:"80"},{cell:l(({record:s})=>[t("span",Pe,n(s.score),1)]),_:1}),a(b,{title:"攻击次数","data-index":"attackCount",width:"90"},{cell:l(({record:s})=>[t("span",Ee,n(s.attackCount),1)]),_:1}),a(b,{title:"防守次数","data-index":"defenseCount",width:"90"},{cell:l(({record:s})=>[t("span",He,n(s.defenseCount),1)]),_:1}),a(b,{title:"状态","data-index":"status",width:"80"},{cell:l(({record:s})=>[a(C,{color:me(s.status)},{default:l(()=>[d(n(ve(s.status)),1)]),_:2},1032,["color"])]),_:1})]),_:1},8,["data"])]),t("div",Je,[t("div",Ke,[e[20]||(e[20]=t("h3",null,"🔥 攻击记录",-1)),a(u,{size:"small",onClick:se},{default:l(()=>[a(c(Q)),e[19]||(e[19]=d(" 刷新 ",-1))]),_:1,__:[19]})]),t("div",Qe,[(i(!0),m(M,null,S(X.value,s=>(i(),m("div",{key:s.id,class:G(["record-item",s.type])},[t("div",Xe,[t("div",Ye,[s.type==="attack"?(i(),g(c($),{key:0})):(i(),g(c(x),{key:1})),d(" "+n(s.type==="attack"?"攻击":"防守"),1)]),t("div",Ze,n(_e(s.timestamp)),1)]),t("div",et,[t("div",tt,[t("span",st,n(s.attacker),1),e[21]||(e[21]=t("span",{class:"arrow"},"→",-1)),t("span",at,n(s.target),1)]),t("div",lt,[t("span",nt,n(s.challengeName),1),t("span",{class:G(["result",s.result])},n(s.result==="success"?"成功":"失败"),3)]),t("div",ot,[s.type==="attack"&&s.result==="success"?(i(),m("span",it," +"+n(s.score)+"分 ",1)):s.type==="defense"&&s.result==="success"?(i(),m("span",dt," +"+n(s.score)+"分 ",1)):(i(),m("span",ut,"0分"))])])],2))),128))])])]),t("div",rt,[t("div",ct,[e[26]||(e[26]=t("h3",null,"👥 我的队伍",-1)),k.value?(i(),m("div",mt,[t("div",vt,[a(q,{size:48,src:k.value.avatar},null,8,["src"]),t("div",_t,[t("div",pt,n(k.value.teamName),1),t("div",ft,"得分: "+n(k.value.score),1)])]),t("div",gt,[t("div",kt,[e[22]||(e[22]=t("div",{class:"stat-label"},"攻击成功",-1)),t("div",yt,n(k.value.attackSuccess),1)]),t("div",bt,[e[23]||(e[23]=t("div",{class:"stat-label"},"防守成功",-1)),t("div",ht,n(k.value.defenseSuccess),1)]),t("div",Ct,[e[24]||(e[24]=t("div",{class:"stat-label"},"被攻击",-1)),t("div",Tt,n(k.value.attackedCount),1)])])])):(i(),m("div",Vt,[a(u,{type:"primary",onClick:ae},{default:l(()=>[a(c(x)),e[25]||(e[25]=d(" 创建队伍 ",-1))]),_:1,__:[25]})]))]),t("div",wt,[e[31]||(e[31]=t("h3",null,"⚡ 快速操作",-1)),t("div",Mt,[a(u,{type:"primary",block:"",onClick:le,disabled:!h.value},{default:l(()=>[a(c($)),e[27]||(e[27]=d(" 发起攻击 ",-1))]),_:1,__:[27]},8,["disabled"]),a(u,{block:"",onClick:oe,disabled:!h.value},{default:l(()=>[a(c(x)),e[28]||(e[28]=d(" 加固防守 ",-1))]),_:1,__:[28]},8,["disabled"]),a(u,{block:"",onClick:de,disabled:!h.value},{default:l(()=>[a(c(Ce)),e[29]||(e[29]=d(" 系统检查 ",-1))]),_:1,__:[29]},8,["disabled"]),a(u,{block:"",onClick:ue,disabled:!h.value},{default:l(()=>[a(c(Te)),e[30]||(e[30]=d(" 系统备份 ",-1))]),_:1,__:[30]},8,["disabled"])])]),e[32]||(e[32]=ye('<div class="panel-section" data-v-7e2197d2><h3 data-v-7e2197d2>📋 比赛规则</h3><div class="rules-list" data-v-7e2197d2><div class="rule-item" data-v-7e2197d2><div class="rule-number" data-v-7e2197d2>1</div><div class="rule-content" data-v-7e2197d2>攻击成功获得相应分数</div></div><div class="rule-item" data-v-7e2197d2><div class="rule-number" data-v-7e2197d2>2</div><div class="rule-content" data-v-7e2197d2>防守成功获得防守分数</div></div><div class="rule-item" data-v-7e2197d2><div class="rule-number" data-v-7e2197d2>3</div><div class="rule-content" data-v-7e2197d2>系统被攻击扣减分数</div></div><div class="rule-item" data-v-7e2197d2><div class="rule-number" data-v-7e2197d2>4</div><div class="rule-content" data-v-7e2197d2>禁止攻击自己的系统</div></div></div></div>',1))])]),a(H,{visible:T.value,"onUpdate:visible":e[4]||(e[4]=s=>T.value=s),title:"🔥 发起攻击",width:600,onOk:ne,onCancel:R},{default:l(()=>[a(E,{model:_,layout:"vertical"},{default:l(()=>[a(y,{label:"目标队伍"},{default:l(()=>[a(z,{modelValue:_.targetTeam,"onUpdate:modelValue":e[0]||(e[0]=s=>_.targetTeam=s),placeholder:"选择攻击目标",disabled:!B.value.length},{default:l(()=>[(i(!0),m(M,null,S(B.value,s=>(i(),g(U,{key:s.id,value:s.id},{default:l(()=>[d(n(s.teamName),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),a(y,{label:"攻击目标"},{default:l(()=>[a(z,{modelValue:_.targetChallenge,"onUpdate:modelValue":e[1]||(e[1]=s=>_.targetChallenge=s),placeholder:"选择攻击题目"},{default:l(()=>[(i(!0),m(M,null,S(O.value,s=>(i(),g(U,{key:s.id,value:s.id},{default:l(()=>[d(n(s.name)+" ("+n(s.points)+"分) ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(y,{label:"攻击载荷"},{default:l(()=>[a(L,{modelValue:_.payload,"onUpdate:modelValue":e[2]||(e[2]=s=>_.payload=s),placeholder:"输入攻击载荷或命令...",rows:4},null,8,["modelValue"])]),_:1}),a(y,{label:"备注"},{default:l(()=>[a(P,{modelValue:_.note,"onUpdate:modelValue":e[3]||(e[3]=s=>_.note=s),placeholder:"攻击备注（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),a(H,{visible:V.value,"onUpdate:visible":e[8]||(e[8]=s=>V.value=s),title:"🛡️ 加固防守",width:600,onOk:ie,onCancel:j},{default:l(()=>[a(E,{model:p,layout:"vertical"},{default:l(()=>[a(y,{label:"防守目标"},{default:l(()=>[a(z,{modelValue:p.targetChallenge,"onUpdate:modelValue":e[5]||(e[5]=s=>p.targetChallenge=s),placeholder:"选择防守题目"},{default:l(()=>[(i(!0),m(M,null,S(O.value,s=>(i(),g(U,{key:s.id,value:s.id},{default:l(()=>[d(n(s.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(y,{label:"防护措施"},{default:l(()=>[a(L,{modelValue:p.defenseMeasures,"onUpdate:modelValue":e[6]||(e[6]=s=>p.defenseMeasures=s),placeholder:"输入防护措施、补丁代码等...",rows:4},null,8,["modelValue"])]),_:1}),a(y,{label:"备注"},{default:l(()=>[a(P,{modelValue:p.note,"onUpdate:modelValue":e[7]||(e[7]=s=>p.note=s),placeholder:"防守备注（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])}}},Dt=fe(St,[["__scopeId","data-v-7e2197d2"]]);export{Dt as default};

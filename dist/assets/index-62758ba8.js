import{_ as it,e as E,d as w,k as nt,l as lt,r as v,o as p,g as m,h as s,a as n,w as d,n as i,F as R,m as D,j as g,I as dt,c as h,t as c,b as u,p as M,q as rt,s as ct,v as T,x as pt,i as ut}from"./index-26cb0da1.js";const mt={class:"practice-container"},vt={class:"filters"},ft={class:"search-section"},yt={class:"filter-section"},gt={class:"filter-options"},_t={class:"filter-section"},wt={class:"filter-options"},kt={class:"filter-section"},Ct={class:"filter-options"},bt={class:"filter-section"},ht={class:"filter-options"},xt={class:"practice-main"},St={class:"challenges-section"},Nt={class:"challenges-grid"},$t={class:"challenge-cover"},zt={class:"challenge-content"},At={class:"challenge-header-row"},Rt={class:"challenge-title"},Dt={class:"challenge-description"},Mt={class:"challenge-meta"},Tt={class:"challenge-points"},Vt={class:"challenge-solved"},Ft={class:"pagination-wrapper"},It={class:"solving-dynamics"},Wt={class:"dynamics-header"},Lt={class:"dynamics-list"},Ut={class:"dynamic-avatar"},jt={class:"dynamic-content"},Bt={class:"dynamic-user"},Et={class:"dynamic-action"},Pt={key:0},Kt={key:1},Qt={key:2},Xt={class:"challenge-name"},qt={class:"dynamic-time"},Jt={class:"dynamics-footer"},Gt={key:0,class:"challenge-modal"},Ht={class:"modal-header"},Ot={class:"modal-body"},Yt={class:"desc"},Zt={key:2,class:"timer"},ts={class:"time"},ss={key:3,class:"attachments"},es={class:"attachment-list"},os={class:"file-name"},as={class:"flag-submit"},is={__name:"index",setup(ns){const o=E({category:"",difficulty:"",scoreRange:"",status:"",search:""}),f=E({current:1,pageSize:12,total:0}),x=w([{id:1,title:"SQL注入入门",description:"学习基础的SQL注入攻击技术",category:"web",difficulty:"easy",points:100,solved:156,status:"solved",type:"static",attachments:[{name:"题目说明.pdf",url:"/api/attachments/sql_intro.pdf"}]},{id:2,title:"RSA加密破解",description:"破解使用弱密钥的RSA加密",category:"crypto",difficulty:"medium",points:200,solved:89,status:"attempted",type:"static",attachments:[{name:"公钥.pem",url:"/api/attachments/rsa_pub.pem"},{name:"密文.txt",url:"/api/attachments/rsa_cipher.txt"}]},{id:3,title:"缓冲区溢出",description:"利用栈溢出漏洞获取shell",category:"pwn",difficulty:"hard",points:300,solved:34,status:"unsolved",type:"dynamic",durationSec:1800},{id:4,title:"隐写术挑战",description:"从图片中提取隐藏信息",category:"misc",difficulty:"easy",points:150,solved:102,status:"solved",type:"static",attachments:[{name:"image.jpg",url:"/api/attachments/stego_image.jpg"}]},{id:5,title:"安卓逆向",description:"分析Android APK文件",category:"reverse",difficulty:"medium",points:250,solved:67,status:"unsolved",type:"static",attachments:[{name:"demo.apk",url:"/api/attachments/demo.apk"}]},{id:6,title:"XSS挑战",description:"绕过XSS过滤器",category:"web",difficulty:"medium",points:180,solved:91,status:"attempted",type:"dynamic",durationSec:1200},{id:7,title:"文件包含漏洞",description:"利用文件包含漏洞读取敏感文件",category:"web",difficulty:"medium",points:220,solved:75,status:"unsolved",type:"static",attachments:[]},{id:8,title:"AES密码分析",description:"分析AES加密的实现缺陷",category:"crypto",difficulty:"hard",points:350,solved:28,status:"unsolved",type:"static",attachments:[{name:"trace.bin",url:"/api/attachments/trace.bin"}]},{id:9,title:"栈溢出利用",description:"通过栈溢出获取系统权限",category:"pwn",difficulty:"medium",points:280,solved:45,status:"unsolved",type:"dynamic",durationSec:1800},{id:10,title:"音频隐写",description:"从音频文件中提取隐藏的flag",category:"misc",difficulty:"easy",points:120,solved:89,status:"solved",type:"static",attachments:[{name:"audio.wav",url:"/api/attachments/audio.wav"}]},{id:11,title:"JWT伪造",description:"伪造JWT令牌绕过身份验证",category:"web",difficulty:"medium",points:230,solved:67,status:"attempted",type:"dynamic",durationSec:900},{id:12,title:"Windows逆向",description:"逆向分析Windows可执行文件",category:"reverse",difficulty:"hard",points:320,solved:23,status:"unsolved",type:"static",attachments:[]},{id:13,title:"哈希碰撞",description:"找到MD5哈希碰撞",category:"crypto",difficulty:"easy",points:80,solved:145,status:"solved",type:"static",attachments:[]},{id:14,title:"SSRF漏洞",description:"利用服务端请求伪造漏洞",category:"web",difficulty:"medium",points:190,solved:58,status:"attempted",type:"dynamic",durationSec:1200},{id:15,title:"内存取证",description:"从内存dump中提取关键信息",category:"misc",difficulty:"hard",points:380,solved:19,status:"unsolved",type:"static",attachments:[{name:"memory.dump",url:"/api/attachments/memory.dump"}]}]),P=nt(()=>{let a=x.value;if(o.category&&(a=a.filter(t=>t.category===o.category)),o.difficulty&&(a=a.filter(t=>t.difficulty===o.difficulty)),o.scoreRange&&(a=a.filter(t=>{const l=t.points;switch(o.scoreRange){case"0-100":return l>=0&&l<=100;case"100-200":return l>100&&l<=200;case"200-300":return l>200&&l<=300;case"300+":return l>300;default:return!0}})),o.status&&(a=a.filter(t=>t.status===o.status)),o.search){const t=o.search.toLowerCase();a=a.filter(l=>l.title.toLowerCase().includes(t)||l.description.toLowerCase().includes(t))}return f.total=a.length,a}),V=a=>({web:"Web",crypto:"密码学",pwn:"PWN",misc:"杂项",reverse:"逆向"})[a]||a,F=a=>({easy:"简单",medium:"中等",hard:"困难"})[a]||a,I=a=>({solved:"已解决",attempted:"已尝试",unsolved:"未解决"})[a]||"未知",W=a=>({solved:"green",attempted:"orange",unsolved:"gray"})[a]||"gray",K=()=>{f.current=1},Q=()=>{K()},S=w(!1),r=w(null),N=w(""),_=w(0);let $=null;const k=w([{id:1,userName:"CTF大师",userAvatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",challengeName:"SQL注入入门",type:"first-blood",timestamp:Date.now()-1e3*60*5},{id:2,userName:"安全小白",userAvatar:"",challengeName:"RSA加密破解",type:"solved",timestamp:Date.now()-1e3*60*15},{id:3,userName:"逆向工程师",userAvatar:"",challengeName:"安卓逆向",type:"attempted",timestamp:Date.now()-1e3*60*30},{id:4,userName:"Web安全专家",userAvatar:"",challengeName:"XSS挑战",type:"solved",timestamp:Date.now()-1e3*60*45},{id:5,userName:"密码学爱好者",userAvatar:"",challengeName:"AES密码分析",type:"attempted",timestamp:Date.now()-1e3*60*60},{id:6,userName:"PWN高手",userAvatar:"",challengeName:"缓冲区溢出",type:"solved",timestamp:Date.now()-1e3*60*90}]),X=()=>{const a={id:Date.now(),userName:"新用户"+Math.floor(Math.random()*1e3),userAvatar:"",challengeName:x.value[Math.floor(Math.random()*x.value.length)].title,type:["solved","attempted","first-blood"][Math.floor(Math.random()*3)],timestamp:Date.now()};k.value.unshift(a),k.value.length>10&&(k.value=k.value.slice(0,10))},q=()=>{console.log("查看全部解题动态")},J=a=>{const l=Date.now()-a;return l<1e3*60?"刚刚":l<1e3*60*60?Math.floor(l/(1e3*60))+"分钟前":l<1e3*60*60*24?Math.floor(l/(1e3*60*60))+"小时前":Math.floor(l/(1e3*60*60*24))+"天前"},G=a=>{r.value=a,N.value="",S.value=!0,z(),a.type==="dynamic"?(_.value=a.durationSec||1800,L()):_.value=0},H=()=>{S.value=!1,z()},L=()=>{z(),$=setInterval(()=>{_.value>0?_.value-=1:z()},1e3)},z=()=>{$&&(clearInterval($),$=null)},O=()=>{r.value&&r.value.type==="dynamic"&&(_.value=r.value.durationSec||1800,L())},Y=a=>{const t=Math.floor(a/3600),l=Math.floor(a%3600/60),y=a%60,C=A=>String(A).padStart(2,"0");return`${C(t)}:${C(l)}:${C(y)}`},Z=a=>{window.open(a.url,"_blank")},U=()=>{console.log("提交 Flag:",N.value)};return lt(()=>{f.total=x.value.length}),(a,t)=>{const l=v("a-input-search"),y=v("a-tag"),C=v("a-card"),A=v("a-col"),tt=v("a-row"),st=v("a-pagination"),b=v("a-button"),et=v("a-avatar"),j=v("a-alert"),ot=v("a-input"),at=v("a-modal");return p(),m("div",mt,[t[56]||(t[56]=s("div",{class:"header"},[s("h1",null,"练习场"),s("p",null,"提升你的CTF技能，挑战各种类型的题目")],-1)),s("div",vt,[s("div",ft,[n(l,{modelValue:o.search,"onUpdate:modelValue":t[0]||(t[0]=e=>o.search=e),placeholder:"搜索题目...","allow-clear":"",size:"large",class:"search-input","search-button":"","button-text":"查询",onSearch:Q},{prefix:d(()=>[n(g(dt))]),_:1},8,["modelValue"])]),s("div",yt,[t[30]||(t[30]=s("h4",{class:"filter-title"},"题目分类",-1)),s("div",gt,[s("div",{class:i(["filter-option",{active:o.category===""}]),onClick:t[1]||(t[1]=e=>o.category="")},t[24]||(t[24]=[s("span",{class:"option-icon"},"📋",-1),s("span",{class:"option-text"},"全部",-1)]),2),s("div",{class:i(["filter-option",{active:o.category==="web"}]),onClick:t[2]||(t[2]=e=>o.category="web")},t[25]||(t[25]=[s("span",{class:"option-icon"},"🌐",-1),s("span",{class:"option-text"},"Web安全",-1)]),2),s("div",{class:i(["filter-option",{active:o.category==="crypto"}]),onClick:t[3]||(t[3]=e=>o.category="crypto")},t[26]||(t[26]=[s("span",{class:"option-icon"},"🔐",-1),s("span",{class:"option-text"},"密码学",-1)]),2),s("div",{class:i(["filter-option",{active:o.category==="pwn"}]),onClick:t[4]||(t[4]=e=>o.category="pwn")},t[27]||(t[27]=[s("span",{class:"option-icon"},"⚡",-1),s("span",{class:"option-text"},"二进制漏洞",-1)]),2),s("div",{class:i(["filter-option",{active:o.category==="misc"}]),onClick:t[5]||(t[5]=e=>o.category="misc")},t[28]||(t[28]=[s("span",{class:"option-icon"},"🎯",-1),s("span",{class:"option-text"},"杂项",-1)]),2),s("div",{class:i(["filter-option",{active:o.category==="reverse"}]),onClick:t[6]||(t[6]=e=>o.category="reverse")},t[29]||(t[29]=[s("span",{class:"option-icon"},"🔄",-1),s("span",{class:"option-text"},"逆向工程",-1)]),2)])]),s("div",_t,[t[35]||(t[35]=s("h4",{class:"filter-title"},"难度等级",-1)),s("div",wt,[s("div",{class:i(["filter-option",{active:o.difficulty===""}]),onClick:t[7]||(t[7]=e=>o.difficulty="")},t[31]||(t[31]=[s("span",{class:"option-icon"},"📊",-1),s("span",{class:"option-text"},"全部",-1)]),2),s("div",{class:i(["filter-option difficulty-easy",{active:o.difficulty==="easy"}]),onClick:t[8]||(t[8]=e=>o.difficulty="easy")},t[32]||(t[32]=[s("span",{class:"option-icon"},"🟢",-1),s("span",{class:"option-text"},"简单",-1)]),2),s("div",{class:i(["filter-option difficulty-medium",{active:o.difficulty==="medium"}]),onClick:t[9]||(t[9]=e=>o.difficulty="medium")},t[33]||(t[33]=[s("span",{class:"option-icon"},"🟡",-1),s("span",{class:"option-text"},"中等",-1)]),2),s("div",{class:i(["filter-option difficulty-hard",{active:o.difficulty==="hard"}]),onClick:t[10]||(t[10]=e=>o.difficulty="hard")},t[34]||(t[34]=[s("span",{class:"option-icon"},"🔴",-1),s("span",{class:"option-text"},"困难",-1)]),2)])]),s("div",kt,[t[41]||(t[41]=s("h4",{class:"filter-title"},"分数范围",-1)),s("div",Ct,[s("div",{class:i(["filter-option",{active:o.scoreRange===""}]),onClick:t[11]||(t[11]=e=>o.scoreRange="")},t[36]||(t[36]=[s("span",{class:"option-icon"},"💯",-1),s("span",{class:"option-text"},"全部",-1)]),2),s("div",{class:i(["filter-option",{active:o.scoreRange==="0-100"}]),onClick:t[12]||(t[12]=e=>o.scoreRange="0-100")},t[37]||(t[37]=[s("span",{class:"option-icon"},"🥉",-1),s("span",{class:"option-text"},"0-100分",-1)]),2),s("div",{class:i(["filter-option",{active:o.scoreRange==="100-200"}]),onClick:t[13]||(t[13]=e=>o.scoreRange="100-200")},t[38]||(t[38]=[s("span",{class:"option-icon"},"🥈",-1),s("span",{class:"option-text"},"100-200分",-1)]),2),s("div",{class:i(["filter-option",{active:o.scoreRange==="200-300"}]),onClick:t[14]||(t[14]=e=>o.scoreRange="200-300")},t[39]||(t[39]=[s("span",{class:"option-icon"},"🥇",-1),s("span",{class:"option-text"},"200-300分",-1)]),2),s("div",{class:i(["filter-option",{active:o.scoreRange==="300+"}]),onClick:t[15]||(t[15]=e=>o.scoreRange="300+")},t[40]||(t[40]=[s("span",{class:"option-icon"},"👑",-1),s("span",{class:"option-text"},"300分以上",-1)]),2)])]),s("div",bt,[t[46]||(t[46]=s("h4",{class:"filter-title"},"完成状态",-1)),s("div",ht,[s("div",{class:i(["filter-option",{active:o.status===""}]),onClick:t[16]||(t[16]=e=>o.status="")},t[42]||(t[42]=[s("span",{class:"option-icon"},"📝",-1),s("span",{class:"option-text"},"全部",-1)]),2),s("div",{class:i(["filter-option status-unsolved",{active:o.status==="unsolved"}]),onClick:t[17]||(t[17]=e=>o.status="unsolved")},t[43]||(t[43]=[s("span",{class:"option-icon"},"⭕",-1),s("span",{class:"option-text"},"未解决",-1)]),2),s("div",{class:i(["filter-option status-attempted",{active:o.status==="attempted"}]),onClick:t[18]||(t[18]=e=>o.status="attempted")},t[44]||(t[44]=[s("span",{class:"option-icon"},"⏳",-1),s("span",{class:"option-text"},"已尝试",-1)]),2),s("div",{class:i(["filter-option status-solved",{active:o.status==="solved"}]),onClick:t[19]||(t[19]=e=>o.status="solved")},t[45]||(t[45]=[s("span",{class:"option-icon"},"✅",-1),s("span",{class:"option-text"},"已解决",-1)]),2)])])]),s("div",xt,[s("div",St,[s("div",Nt,[n(tt,{gutter:[12,12]},{default:d(()=>[(p(!0),m(R,null,D(P.value,e=>(p(),h(A,{key:e.id,xxl:6,xl:8,lg:12,md:12,sm:24,xs:24},{default:d(()=>[n(C,{class:"challenge-card",hoverable:"",size:"small",onClick:B=>G(e)},{cover:d(()=>[s("div",$t,[s("div",{class:i(["category-tag",e.category])},c(V(e.category)),3),s("div",{class:i(["difficulty-badge",e.difficulty])},c(F(e.difficulty)),3)])]),default:d(()=>[s("div",zt,[s("div",At,[s("h4",Rt,c(e.title),1),n(y,{color:W(e.status),size:"small",class:"status-tag"},{default:d(()=>[u(c(I(e.status)),1)]),_:2},1032,["color"])]),s("p",Dt,c(e.description),1),s("div",Mt,[s("span",Tt,[n(g(M)),u(" "+c(e.points)+"分 ",1)]),s("span",Vt,[n(g(rt)),u(" "+c(e.solved)+"人 ",1)])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),s("div",Ft,[n(st,{current:f.current,"onUpdate:current":t[20]||(t[20]=e=>f.current=e),"page-size":f.pageSize,"onUpdate:pageSize":t[21]||(t[21]=e=>f.pageSize=e),total:f.total,"show-size-changer":"","show-jumper":"","show-total":""},null,8,["current","page-size","total"])])]),s("div",It,[s("div",Wt,[t[47]||(t[47]=s("h3",null,"🔥 解题动态",-1)),n(b,{type:"text",size:"small",onClick:X},{default:d(()=>[n(g(ct))]),_:1})]),s("div",Lt,[(p(!0),m(R,null,D(k.value,e=>(p(),m("div",{key:e.id,class:i(["dynamic-item",e.type])},[s("div",Ut,[n(et,{size:32,src:e.userAvatar},{default:d(()=>[u(c(e.userName.charAt(0)),1)]),_:2},1032,["src"])]),s("div",jt,[s("div",Bt,c(e.userName),1),s("div",Et,[e.type==="solved"?(p(),m("span",Pt,"解出了")):e.type==="attempted"?(p(),m("span",Kt,"尝试了")):e.type==="first-blood"?(p(),m("span",Qt,"首杀")):T("",!0),s("span",Xt,c(e.challengeName),1)]),s("div",qt,c(J(e.timestamp)),1)]),s("div",{class:i(["dynamic-badge",e.type])},[e.type==="solved"||e.type==="first-blood"?(p(),h(g(M),{key:0})):(p(),h(g(pt),{key:1}))],2)],2))),128))]),s("div",Jt,[n(b,{type:"text",size:"small",onClick:q},{default:d(()=>t[48]||(t[48]=[u(" 查看全部动态 ",-1)])),_:1,__:[48]})])])]),n(at,{visible:S.value,"onUpdate:visible":t[23]||(t[23]=e=>S.value=e),title:r.value?r.value.title:"题目",width:680,footer:!1,"unmount-on-close":"",onClose:H},{default:d(()=>[r.value?(p(),m("div",Gt,[s("div",Ht,[n(y,{size:"small"},{default:d(()=>[u(c(V(r.value.category)),1)]),_:1}),n(y,{size:"small",color:W(r.value.status),class:"ml8"},{default:d(()=>[u(c(I(r.value.status)),1)]),_:1},8,["color"]),n(y,{size:"small",class:"ml8"},{default:d(()=>[u(c(F(r.value.difficulty)),1)]),_:1}),n(y,{size:"small",class:"ml8"},{default:d(()=>[n(g(M)),u(" "+c(r.value.points)+"分",1)]),_:1})]),s("div",Ot,[s("p",Yt,c(r.value.description),1),r.value.type==="dynamic"?(p(),h(j,{key:0,type:"warning","show-icon":"",class:"mb12"},{default:d(()=>t[49]||(t[49]=[u(" 本题为动态 Flag，倒计时结束后实例将失效。 ",-1)])),_:1,__:[49]})):(p(),h(j,{key:1,type:"info","show-icon":"",class:"mb12"},{default:d(()=>t[50]||(t[50]=[u(" 本题为静态 Flag，请下载附件或阅读描述完成解题。 ",-1)])),_:1,__:[50]})),r.value.type==="dynamic"?(p(),m("div",Zt,[t[52]||(t[52]=s("span",null,"剩余时间：",-1)),s("span",ts,c(Y(_.value)),1),n(b,{size:"mini",type:"text",class:"ml8",onClick:O},{default:d(()=>t[51]||(t[51]=[u("重置",-1)])),_:1,__:[51]})])):r.value.attachments&&r.value.attachments.length?(p(),m("div",ss,[t[54]||(t[54]=s("h5",null,"附件下载",-1)),s("div",es,[(p(!0),m(R,null,D(r.value.attachments,(e,B)=>(p(),m("div",{class:"attachment-item",key:B},[s("span",os,c(e.name),1),n(b,{type:"primary",size:"small",onClick:ls=>Z(e)},{default:d(()=>t[53]||(t[53]=[u("下载",-1)])),_:2,__:[53]},1032,["onClick"])]))),128))])])):T("",!0),s("div",as,[n(ot,{modelValue:N.value,"onUpdate:modelValue":t[22]||(t[22]=e=>N.value=e),placeholder:"提交你的 Flag，如 ctf{...}","allow-clear":"",onKeyup:ut(U,["enter"])},null,8,["modelValue"]),n(b,{type:"primary",class:"ml8",onClick:U},{default:d(()=>t[55]||(t[55]=[u("提交",-1)])),_:1,__:[55]})])])])):T("",!0)]),_:1},8,["visible","title"])])}}},rs=it(is,[["__scopeId","data-v-152bc5a9"]]);export{rs as default};

import{_ as M,k as D,r as m,o as i,g as u,a as s,w as a,h as n,n as U,t as c,c as A,j as T,N as B,v as _,O as j,b as d,d as $,e as I,l as E,F as H,m as q}from"./index-26cb0da1.js";const L={class:"ranking-table"},P={class:"rank-cell"},K={key:0,class:"rank-change"},O={class:"change-text"},W={key:1,class:"rank-stable"},G={class:"name-cell"},J=["src","alt"],Q={class:"name-info"},X={class:"name"},Y={key:0,class:"level"},Z={key:1,class:"leader"},ee={key:2,class:"region"},te={class:"score-cell"},ae={class:"score-number"},se={class:"stats-cell"},ne={key:0,class:"stat-item"},le={class:"stat-value"},oe={key:1,class:"stat-item"},ie={class:"stat-value"},de={key:2,class:"stat-item"},re={class:"stat-value"},ce={class:"school-name"},ue={class:"last-active"},pe={class:"action-buttons"},_e={__name:"RankingTable",props:{data:{type:Array,default:()=>[]},type:{type:String,required:!0,validator:p=>["personal","team","school"].includes(p)}},setup(p){const v=p,g=D(()=>{const l=[{title:"排名",dataIndex:"rank",slotName:"rank",width:100,align:"center"},{title:v.type==="personal"?"用户":v.type==="team"?"团队":"院校",dataIndex:"name",slotName:"name",width:200},{title:"积分",dataIndex:"score",slotName:"score",width:120,align:"center"}];return v.type==="personal"?l.push({title:"统计",slotName:"stats",width:100,align:"center"},{title:"院校",dataIndex:"school",slotName:"school",width:150}):v.type==="team"?l.push({title:"成员数",slotName:"stats",width:100,align:"center"},{title:"院校",dataIndex:"school",slotName:"school",width:150}):v.type==="school"&&l.push({title:"学生数",slotName:"stats",width:100,align:"center"},{title:"顶尖学生",dataIndex:"topStudent",width:120}),l.push({title:"最后活跃",dataIndex:"lastActive",slotName:"lastActive",width:120,align:"center"},{title:"操作",slotName:"actions",width:150,align:"center"}),l}),y=l=>l===1?"rank-first":l===2?"rank-second":l===3?"rank-third":l<=10?"rank-top10":"",k=l=>{const o=new Date(l),b=new Date-o,e=Math.floor(b/(1e3*60*60*24));return e===0?"今天":e===1?"昨天":e<7?`${e}天前`:`${o.getMonth()+1}/${o.getDate()}`},h=l=>{console.log("查看详情:",l)},C=l=>{console.log("关注用户:",l)};return(l,o)=>{const w=m("a-avatar"),b=m("a-button"),e=m("a-table");return i(),u("div",L,[s(e,{columns:g.value,data:p.data,pagination:!1,"row-key":"id"},{rank:a(({record:t})=>[n("div",P,[n("span",{class:U(["rank-number",y(t.rank)])},c(t.rank),3),t.change!==0?(i(),u("div",K,[t.change>0?(i(),A(T(B),{key:0,class:"change-up"})):_("",!0),t.change<0?(i(),A(T(j),{key:1,class:"change-down"})):_("",!0),n("span",O,c(Math.abs(t.change)),1)])):(i(),u("div",W,"-"))])]),name:a(({record:t})=>[n("div",G,[s(w,{size:40,class:"avatar"},{default:a(()=>[n("img",{src:t.avatar,alt:t.name},null,8,J)]),_:2},1024),n("div",Q,[n("div",X,c(t.name),1),p.type==="personal"?(i(),u("div",Y,c(t.level),1)):_("",!0),p.type==="team"?(i(),u("div",Z,"队长: "+c(t.leader),1)):_("",!0),p.type==="school"?(i(),u("div",ee,c(t.region),1)):_("",!0)])])]),score:a(({record:t})=>[n("div",te,[n("span",ae,c(t.score.toLocaleString()),1),o[0]||(o[0]=n("span",{class:"score-label"},"分",-1))])]),stats:a(({record:t})=>[n("div",se,[p.type==="personal"?(i(),u("div",ne,[o[1]||(o[1]=n("span",{class:"stat-label"},"解题:",-1)),n("span",le,c(t.solved),1)])):_("",!0),p.type==="team"?(i(),u("div",oe,[o[2]||(o[2]=n("span",{class:"stat-label"},"成员:",-1)),n("span",ie,c(t.members),1)])):_("",!0),p.type==="school"?(i(),u("div",de,[o[3]||(o[3]=n("span",{class:"stat-label"},"学生:",-1)),n("span",re,c(t.members),1)])):_("",!0)])]),school:a(({record:t})=>[n("span",ce,c(t.school),1)]),lastActive:a(({record:t})=>[n("span",ue,c(k(t.lastActive)),1)]),actions:a(({record:t})=>[n("div",pe,[s(b,{type:"text",size:"small",onClick:f=>h(t)},{default:a(()=>o[4]||(o[4]=[d(" 查看详情 ",-1)])),_:2,__:[4]},1032,["onClick"]),p.type==="personal"?(i(),A(b,{key:0,type:"text",size:"small",onClick:f=>C(t)},{default:a(()=>o[5]||(o[5]=[d(" 关注 ",-1)])),_:2,__:[5]},1032,["onClick"])):_("",!0)])]),_:1},8,["columns","data"])])}}},S=M(_e,[["__scopeId","data-v-29b0ef43"]]);const me={class:"ranking-container"},ve={class:"ranking-tabs"},be={class:"ranking-filters"},ge={class:"ranking-filters"},fe={class:"ranking-filters"},ye={key:0,class:"top-three"},ke={class:"podium"},he={class:"medal"},we={key:0},xe={key:1},$e={key:2},Ce=["src","alt"],Ve={class:"name"},Ne={class:"score"},Re={class:"stats"},Ae={__name:"index",setup(p){const v=$("personal"),g=I({timeRange:"all",category:""}),y=I({timeRange:"all"}),k=I({region:""}),h=$([{id:1,rank:1,name:"CyberMaster",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",score:2850,solved:156,level:"Master",school:"清华大学",lastActive:"2024-01-15",change:0},{id:2,rank:2,name:"SecHacker",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",score:2720,solved:142,level:"Expert",school:"北京大学",lastActive:"2024-01-15",change:1},{id:3,rank:3,name:"CodeBreaker",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",score:2650,solved:134,level:"Expert",school:"上海交通大学",lastActive:"2024-01-14",change:-1}]),C=$([{id:1,rank:1,name:"Dragon Team",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",score:8500,members:5,leader:"CyberMaster",school:"清华大学",lastActive:"2024-01-15",change:0},{id:2,rank:2,name:"Phoenix Squad",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",score:7890,members:4,leader:"SecHacker",school:"北京大学",lastActive:"2024-01-15",change:1}]),l=$([{id:1,rank:1,name:"清华大学",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",score:15200,members:89,region:"北京",topStudent:"CyberMaster",change:0},{id:2,rank:2,name:"北京大学",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",score:14560,members:76,region:"北京",topStudent:"SecHacker",change:1}]),o=D(()=>h.value.slice(0,3)),w=b=>{console.log("切换到标签:",b)};return E(()=>{}),(b,e)=>{const t=m("a-option"),f=m("a-select"),x=m("a-col"),V=m("a-row"),N=m("a-tab-pane"),z=m("a-tabs"),F=m("a-avatar");return i(),u("div",me,[e[22]||(e[22]=n("div",{class:"header"},[n("h1",null,"排行榜"),n("p",null,"查看全球顶尖CTF选手和团队的排名")],-1)),n("div",ve,[s(z,{"active-key":v.value,"onUpdate:activeKey":e[4]||(e[4]=r=>v.value=r),onChange:w},{default:a(()=>[s(N,{key:"personal",title:"个人排行"},{default:a(()=>[n("div",be,[s(V,{gutter:16},{default:a(()=>[s(x,{span:6},{default:a(()=>[s(f,{modelValue:g.timeRange,"onUpdate:modelValue":e[0]||(e[0]=r=>g.timeRange=r),placeholder:"时间范围"},{default:a(()=>[s(t,{value:"all"},{default:a(()=>e[5]||(e[5]=[d("历史总排行",-1)])),_:1,__:[5]}),s(t,{value:"month"},{default:a(()=>e[6]||(e[6]=[d("本月排行",-1)])),_:1,__:[6]}),s(t,{value:"week"},{default:a(()=>e[7]||(e[7]=[d("本周排行",-1)])),_:1,__:[7]})]),_:1},8,["modelValue"])]),_:1}),s(x,{span:6},{default:a(()=>[s(f,{modelValue:g.category,"onUpdate:modelValue":e[1]||(e[1]=r=>g.category=r),placeholder:"分类","allow-clear":""},{default:a(()=>[s(t,{value:"web"},{default:a(()=>e[8]||(e[8]=[d("Web安全",-1)])),_:1,__:[8]}),s(t,{value:"crypto"},{default:a(()=>e[9]||(e[9]=[d("密码学",-1)])),_:1,__:[9]}),s(t,{value:"pwn"},{default:a(()=>e[10]||(e[10]=[d("二进制漏洞",-1)])),_:1,__:[10]}),s(t,{value:"misc"},{default:a(()=>e[11]||(e[11]=[d("杂项",-1)])),_:1,__:[11]}),s(t,{value:"reverse"},{default:a(()=>e[12]||(e[12]=[d("逆向工程",-1)])),_:1,__:[12]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),s(S,{data:h.value,type:"personal"},null,8,["data"])]),_:1}),s(N,{key:"team",title:"团队排行"},{default:a(()=>[n("div",ge,[s(V,{gutter:16},{default:a(()=>[s(x,{span:6},{default:a(()=>[s(f,{modelValue:y.timeRange,"onUpdate:modelValue":e[2]||(e[2]=r=>y.timeRange=r),placeholder:"时间范围"},{default:a(()=>[s(t,{value:"all"},{default:a(()=>e[13]||(e[13]=[d("历史总排行",-1)])),_:1,__:[13]}),s(t,{value:"month"},{default:a(()=>e[14]||(e[14]=[d("本月排行",-1)])),_:1,__:[14]}),s(t,{value:"week"},{default:a(()=>e[15]||(e[15]=[d("本周排行",-1)])),_:1,__:[15]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),s(S,{data:C.value,type:"team"},null,8,["data"])]),_:1}),s(N,{key:"school",title:"院校排行"},{default:a(()=>[n("div",fe,[s(V,{gutter:16},{default:a(()=>[s(x,{span:6},{default:a(()=>[s(f,{modelValue:k.region,"onUpdate:modelValue":e[3]||(e[3]=r=>k.region=r),placeholder:"地区","allow-clear":""},{default:a(()=>[s(t,{value:"beijing"},{default:a(()=>e[16]||(e[16]=[d("北京",-1)])),_:1,__:[16]}),s(t,{value:"shanghai"},{default:a(()=>e[17]||(e[17]=[d("上海",-1)])),_:1,__:[17]}),s(t,{value:"guangdong"},{default:a(()=>e[18]||(e[18]=[d("广东",-1)])),_:1,__:[18]}),s(t,{value:"jiangsu"},{default:a(()=>e[19]||(e[19]=[d("江苏",-1)])),_:1,__:[19]}),s(t,{value:"zhejiang"},{default:a(()=>e[20]||(e[20]=[d("浙江",-1)])),_:1,__:[20]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),s(S,{data:l.value,type:"school"},null,8,["data"])]),_:1})]),_:1},8,["active-key"])]),o.value.length>0?(i(),u("div",ye,[e[21]||(e[21]=n("h2",null,"🏆 本期前三甲",-1)),n("div",ke,[(i(!0),u(H,null,q(o.value,(r,R)=>(i(),u("div",{key:r.id,class:U(["podium-item",`rank-${R+1}`])},[n("div",he,[R===0?(i(),u("span",we,"🥇")):R===1?(i(),u("span",xe,"🥈")):(i(),u("span",$e,"🥉"))]),s(F,{size:60,class:"avatar"},{default:a(()=>[n("img",{src:r.avatar,alt:r.name},null,8,Ce)]),_:2},1024),n("h3",Ve,c(r.name),1),n("p",Ne,c(r.score)+" 分",1),n("div",Re,[n("span",null,"解题: "+c(r.solved),1),n("span",null,"等级: "+c(r.level),1)])],2))),128))])])):_("",!0)])}}},Se=M(Ae,[["__scopeId","data-v-5e8bb786"]]);export{Se as default};

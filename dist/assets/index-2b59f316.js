import{_ as oe,d,P as ae,l as ne,r as v,o as i,g as _,h as e,a as s,w as o,t as a,b as p,j as g,Q as ie,A as de,F as C,m as A,n as ue,K as re,c as x,p as ce,v as M,L as ve,q as _e,R as me,S as pe}from"./index-26cb0da1.js";const fe={class:"profile-container"},he={class:"profile-header"},be={class:"profile-info"},ye=["src","alt"],ge={class:"user-details"},ke={class:"username"},Ve={class:"bio"},we={class:"user-tags"},Ce={class:"profile-actions"},Ae={class:"profile-content"},xe={class:"stats-card"},Me={class:"stats-grid"},Ue={class:"stat-item"},Se={class:"stat-value"},Ie={class:"stat-item"},Pe={class:"stat-value"},Fe={class:"stat-item"},qe={class:"stat-value"},We={class:"stat-item"},De={class:"stat-value"},Le={class:"achievements-card"},Te={class:"achievements-grid"},Ee=["onClick"],Ne={class:"achievement-icon"},$e={class:"achievement-name"},ze={class:"skills-card"},Be={class:"skills-list"},je={class:"skill-info"},Qe={class:"skill-name"},Re={class:"skill-score"},Ke={class:"skill-bar"},Oe={class:"activity-section"},He={class:"activity-list"},Ge={class:"activity-icon"},Je={class:"activity-content"},Xe={class:"activity-text"},Ye={class:"activity-time"},Ze={class:"solved-challenges"},et={class:"challenges-header"},tt={class:"challenge-card"},lt={class:"challenge-header"},st={class:"challenge-info"},ot={class:"contest-history"},at={class:"contest-info"},nt={class:"contest-time"},it={class:"contest-result"},dt={class:"rank"},ut={class:"score"},rt={class:"settings-section"},ct={class:"setting-group"},vt={class:"setting-group"},_t={class:"avatar-upload"},mt=["src"],pt={key:1,class:"avatar-placeholder"},ft={key:0,class:"achievement-detail"},ht={class:"achievement-header"},bt={class:"achievement-icon-large"},yt={class:"achievement-stats"},gt={class:"stat-item"},kt={class:"stat-item"},Vt={__name:"index",setup(wt){const W=d("activity"),w=d(!1),S=d(!1),u=d({username:"",bio:"",school:"",department:""}),r=d({username:"",bio:"",school:"",department:"",avatar:""}),b=d(null),n=d({username:"CyberMaster",avatar:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",bio:"热爱网络安全的CTF爱好者，专注于Web安全和密码学研究",level:"Master",school:"清华大学",department:"计算机科学与技术",joinDate:"2023-01-01"}),U=d({totalScore:2850,solved:156,rank:1,contests:23}),$=d([{id:1,name:"初试牛刀",icon:"🎯",unlocked:!0,unlockedAt:"2023-01-01",requirement:"完成第一道题目"},{id:2,name:"Web大师",icon:"🌐",unlocked:!0,unlockedAt:"2023-02-15",requirement:"解决10个Web题目"},{id:3,name:"密码专家",icon:"🔐",unlocked:!0,unlockedAt:"2023-03-01",requirement:"解决5个密码学题目"},{id:4,name:"比赛达人",icon:"🏆",unlocked:!0,unlockedAt:"2023-04-10",requirement:"参加10次CTF比赛"},{id:5,name:"连胜王者",icon:"👑",unlocked:!1,unlockedAt:null,requirement:"连续解决10道题目"},{id:6,name:"全能选手",icon:"⭐",unlocked:!1,unlockedAt:null,requirement:"解锁所有成就"}]),z=d([{name:"Web安全",score:85,percentage:85},{name:"密码学",score:75,percentage:75},{name:"PWN",score:90,percentage:90},{name:"逆向",score:60,percentage:60},{name:"杂项",score:70,percentage:70}]),B=d([{id:1,type:"solve",description:'解决了 "SQL注入高级技巧" 挑战，获得 200 分',time:"2024-01-15 14:30:00"},{id:2,type:"contest",description:'参加了 "全国大学生网络安全大赛"，排名第 3',time:"2024-01-14 18:00:00"},{id:3,type:"solve",description:'解决了 "RSA密钥分解" 挑战，获得 300 分',time:"2024-01-13 20:15:00"}]),I=d([{id:1,title:"SQL注入高级技巧",category:"Web",points:200,solvedAt:"2024-01-15 14:30:00"},{id:2,title:"RSA密钥分解",category:"密码学",points:300,solvedAt:"2024-01-13 20:15:00"}]),j=d([{id:1,name:"全国大学生网络安全大赛",description:"面向全国大学生的综合性网络安全竞赛",time:"2024-01-14 18:00:00",rank:3,score:2100},{id:2,name:"春季新生友谊赛",description:"专为CTF新手设计的友谊赛",time:"2024-01-10 16:00:00",rank:1,score:1500}]),Q=c=>({Beginner:"gray",Intermediate:"blue",Advanced:"purple",Expert:"orange",Master:"red"})[c]||"gray",R=c=>({Web:"red",密码学:"blue",PWN:"green",逆向:"purple",杂项:"orange"})[c]||"gray",P=c=>{const t=new Date(c),f=new Date-t,h=Math.floor(f/(1e3*60)),k=Math.floor(f/(1e3*60*60)),y=Math.floor(f/(1e3*60*60*24));return h<60?`${h}分钟前`:k<24?`${k}小时前`:y<7?`${y}天前`:`${t.getMonth()+1}月${t.getDate()}日`},K=()=>{w.value=!0,r.value={...n.value}},O=()=>{n.value.username=u.value.username,n.value.bio=u.value.bio,n.value.school=u.value.school,n.value.department=u.value.department,console.log("保存基本信息:",n.value)},H=()=>{console.log("分享资料")},G=c=>{b.value=c,S.value=!0},J=()=>{Object.assign(n.value,r.value),w.value=!1,console.log("保存编辑资料:",n.value)},X=()=>{w.value=!1},Y=()=>{console.log("修改密码")},Z=()=>{console.log("启用双因素认证")},ee=c=>{c.status==="done"&&(r.value.avatar=c.response.url||c.url)},F=d(""),D=d(I.value);return ae(F,c=>{D.value=I.value.filter(t=>t.title.toLowerCase().includes(c.toLowerCase()))}),ne(()=>{u.value={username:n.value.username,bio:n.value.bio,school:n.value.school,department:n.value.department}}),(c,t)=>{const L=v("a-avatar"),f=v("a-tag"),h=v("a-button"),k=v("a-col"),y=v("a-tab-pane"),te=v("a-input-search"),T=v("a-row"),V=v("a-input"),m=v("a-form-item"),E=v("a-textarea"),q=v("a-form"),le=v("a-tabs"),se=v("a-upload"),N=v("a-modal");return i(),_("div",fe,[e("div",he,[t[14]||(t[14]=e("div",{class:"header-bg"},null,-1)),e("div",be,[s(L,{size:100,class:"avatar"},{default:o(()=>[e("img",{src:n.value.avatar,alt:n.value.username},null,8,ye)]),_:1}),e("div",ge,[e("h2",ke,a(n.value.username),1),e("p",Ve,a(n.value.bio),1),e("div",we,[s(f,{color:Q(n.value.level)},{default:o(()=>[p(a(n.value.level),1)]),_:1},8,["color"]),s(f,{color:"blue"},{default:o(()=>[p(a(n.value.school),1)]),_:1}),s(f,{color:"green"},{default:o(()=>[p(a(n.value.department),1)]),_:1}),s(f,{color:"orange"},{default:o(()=>[p(a(n.value.joinDate),1)]),_:1})])]),e("div",Ce,[s(h,{type:"primary",onClick:K},{default:o(()=>[s(g(ie)),t[12]||(t[12]=p(" 编辑资料 ",-1))]),_:1,__:[12]}),s(h,{type:"outline",onClick:H},{default:o(()=>[s(g(de)),t[13]||(t[13]=p(" 分享 ",-1))]),_:1,__:[13]})])])]),e("div",Ae,[s(T,{gutter:24},{default:o(()=>[s(k,{span:8},{default:o(()=>[e("div",xe,[t[19]||(t[19]=e("h3",null,"📊 个人统计",-1)),e("div",Me,[e("div",Ue,[e("div",Se,a(U.value.totalScore),1),t[15]||(t[15]=e("div",{class:"stat-label"},"总积分",-1))]),e("div",Ie,[e("div",Pe,a(U.value.solved),1),t[16]||(t[16]=e("div",{class:"stat-label"},"解题数量",-1))]),e("div",Fe,[e("div",qe,a(U.value.rank),1),t[17]||(t[17]=e("div",{class:"stat-label"},"全站排名",-1))]),e("div",We,[e("div",De,a(U.value.contests),1),t[18]||(t[18]=e("div",{class:"stat-label"},"参赛次数",-1))])])]),e("div",Le,[t[20]||(t[20]=e("h3",null,"🏆 成就徽章",-1)),e("div",Te,[(i(!0),_(C,null,A($.value,l=>(i(),_("div",{key:l.id,class:ue(["achievement-item",{unlocked:l.unlocked}]),onClick:Ct=>G(l)},[e("div",Ne,a(l.icon),1),e("div",$e,a(l.name),1)],10,Ee))),128))])]),e("div",ze,[t[21]||(t[21]=e("h3",null,"💻 技能分布",-1)),e("div",Be,[(i(!0),_(C,null,A(z.value,l=>(i(),_("div",{key:l.name,class:"skill-item"},[e("div",je,[e("span",Qe,a(l.name),1),e("span",Re,a(l.score)+"分",1)]),e("div",Ke,[e("div",{class:"skill-progress",style:re({width:l.percentage+"%"})},null,4)])]))),128))])])]),_:1}),s(k,{span:16},{default:o(()=>[e("div",Oe,[s(le,{"active-key":W.value,"onUpdate:activeKey":t[5]||(t[5]=l=>W.value=l)},{default:o(()=>[s(y,{key:"activity",title:"最近活动"},{default:o(()=>[e("div",He,[(i(!0),_(C,null,A(B.value,l=>(i(),_("div",{key:l.id,class:"activity-item"},[e("div",Ge,[l.type==="solve"?(i(),x(g(ce),{key:0})):M("",!0),l.type==="contest"?(i(),x(g(ve),{key:1})):M("",!0),l.type==="profile"?(i(),x(g(_e),{key:2})):M("",!0),l.type==="achievement"?(i(),x(g(me),{key:3})):M("",!0)]),e("div",Je,[e("p",Xe,a(l.description),1),e("span",Ye,a(P(l.time)),1)])]))),128))])]),_:1}),s(y,{key:"solved",title:"解题记录"},{default:o(()=>[e("div",Ze,[e("div",et,[e("h4",null,"已解决 "+a(I.value.length)+" 道题目",1),s(te,{modelValue:F.value,"onUpdate:modelValue":t[0]||(t[0]=l=>F.value=l),placeholder:"搜索题目...",size:"small",style:{width:"200px"}},null,8,["modelValue"])]),s(T,{gutter:[16,16]},{default:o(()=>[(i(!0),_(C,null,A(D.value,l=>(i(),x(k,{key:l.id,span:12},{default:o(()=>[e("div",tt,[e("div",lt,[e("h4",null,a(l.title),1),s(f,{color:R(l.category),size:"small"},{default:o(()=>[p(a(l.category),1)]),_:2},1032,["color"])]),e("div",st,[e("span",null,a(l.points)+" 分",1),e("span",null,a(P(l.solvedAt)),1)])])]),_:2},1024))),128))]),_:1})])]),_:1}),s(y,{key:"contests",title:"参赛记录"},{default:o(()=>[e("div",ot,[(i(!0),_(C,null,A(j.value,l=>(i(),_("div",{key:l.id,class:"contest-record"},[e("div",at,[e("h4",null,a(l.name),1),e("p",null,a(l.description),1),e("span",nt,a(P(l.time)),1)]),e("div",it,[e("div",dt,"第 "+a(l.rank)+" 名",1),e("div",ut,a(l.score)+" 分",1)])]))),128))])]),_:1}),s(y,{key:"settings",title:"账户设置"},{default:o(()=>[e("div",rt,[e("div",ct,[t[23]||(t[23]=e("h4",null,"基本信息",-1)),s(q,{model:u.value,layout:"vertical"},{default:o(()=>[s(m,{label:"用户名"},{default:o(()=>[s(V,{modelValue:u.value.username,"onUpdate:modelValue":t[1]||(t[1]=l=>u.value.username=l)},null,8,["modelValue"])]),_:1}),s(m,{label:"个人简介"},{default:o(()=>[s(E,{modelValue:u.value.bio,"onUpdate:modelValue":t[2]||(t[2]=l=>u.value.bio=l),rows:3},null,8,["modelValue"])]),_:1}),s(m,{label:"学校"},{default:o(()=>[s(V,{modelValue:u.value.school,"onUpdate:modelValue":t[3]||(t[3]=l=>u.value.school=l)},null,8,["modelValue"])]),_:1}),s(m,{label:"专业"},{default:o(()=>[s(V,{modelValue:u.value.department,"onUpdate:modelValue":t[4]||(t[4]=l=>u.value.department=l)},null,8,["modelValue"])]),_:1}),s(m,null,{default:o(()=>[s(h,{type:"primary",onClick:O},{default:o(()=>t[22]||(t[22]=[p(" 保存修改 ",-1)])),_:1,__:[22]})]),_:1})]),_:1},8,["model"])]),e("div",vt,[t[26]||(t[26]=e("h4",null,"安全设置",-1)),s(q,{layout:"vertical"},{default:o(()=>[s(m,null,{default:o(()=>[s(h,{type:"outline",onClick:Y},{default:o(()=>t[24]||(t[24]=[p(" 修改密码 ",-1)])),_:1,__:[24]})]),_:1}),s(m,null,{default:o(()=>[s(h,{type:"outline",onClick:Z},{default:o(()=>t[25]||(t[25]=[p(" 启用双因素认证 ",-1)])),_:1,__:[25]})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["active-key"])])]),_:1})]),_:1})]),s(N,{visible:w.value,"onUpdate:visible":t[10]||(t[10]=l=>w.value=l),title:"编辑个人资料",width:600,onOk:J,onCancel:X},{default:o(()=>[s(q,{model:r.value,layout:"vertical"},{default:o(()=>[s(m,{label:"头像"},{default:o(()=>[s(se,{"list-type":"picture-card","show-file-list":!1,onChange:ee},{default:o(()=>[e("div",_t,[r.value.avatar?(i(),_("img",{key:0,src:r.value.avatar,class:"avatar-preview"},null,8,mt)):(i(),_("div",pt,[s(g(pe)),t[27]||(t[27]=e("div",null,"上传头像",-1))]))])]),_:1})]),_:1}),s(m,{label:"用户名"},{default:o(()=>[s(V,{modelValue:r.value.username,"onUpdate:modelValue":t[6]||(t[6]=l=>r.value.username=l)},null,8,["modelValue"])]),_:1}),s(m,{label:"个人简介"},{default:o(()=>[s(E,{modelValue:r.value.bio,"onUpdate:modelValue":t[7]||(t[7]=l=>r.value.bio=l),rows:3},null,8,["modelValue"])]),_:1}),s(m,{label:"学校"},{default:o(()=>[s(V,{modelValue:r.value.school,"onUpdate:modelValue":t[8]||(t[8]=l=>r.value.school=l)},null,8,["modelValue"])]),_:1}),s(m,{label:"专业"},{default:o(()=>[s(V,{modelValue:r.value.department,"onUpdate:modelValue":t[9]||(t[9]=l=>r.value.department=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),s(N,{visible:S.value,"onUpdate:visible":t[11]||(t[11]=l=>S.value=l),title:"成就详情",width:500,footer:!1},{default:o(()=>[b.value?(i(),_("div",ft,[e("div",ht,[e("div",bt,a(b.value.icon),1),e("h3",null,a(b.value.name),1),e("p",null,a(b.value.description),1)]),e("div",yt,[e("div",gt,[t[28]||(t[28]=e("span",{class:"label"},"解锁时间：",-1)),e("span",null,a(b.value.unlockedAt||"未解锁"),1)]),e("div",kt,[t[29]||(t[29]=e("span",{class:"label"},"解锁条件：",-1)),e("span",null,a(b.value.requirement),1)])])])):M("",!0)]),_:1},8,["visible"])])}}},xt=oe(Vt,[["__scopeId","data-v-24e54946"]]);export{xt as default};
